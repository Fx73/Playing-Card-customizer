<ion-card class="base-card">
	<ion-card-header>
		<ion-card-title>Login / Register</ion-card-title>
	</ion-card-header>
	<ion-card-content>
		<ion-grid>
			<!-- THIRD PARTY CREDENTIALS -->
			<ion-row>
				<ion-col>
					<ion-card>
						<ion-title>
							Use a Third-party credential
						</ion-title>
						<ion-card-content>
							<ion-buttons>
								<ion-grid>
									<ion-row no-padding
										justify-content-start
										align-items-start>
										<ion-col>
											<ion-button (click)="loginWithGoogle()"
												icon-right
												expand="block"
												fill="outline"
												shape="round"
												color="primary">
												<ion-icon slot="icon-only"
													size="large"
													name="logo-google"
													ios="logo-google"
													md="logo-google"></ion-icon>
												Google
											</ion-button>
										</ion-col>
									</ion-row>
								</ion-grid>
							</ion-buttons>
						</ion-card-content>
					</ion-card>
				</ion-col>
			</ion-row>
			<!-- Email Login/Register -->
			<ion-row>
				<ion-col>
					<ion-card>
						<ion-title>Login</ion-title>
						<ion-card-content>
							<form [formGroup]="loginForm"
								(ngSubmit)="loginForm.valid && login(loginForm.controls['email'].value, loginForm.controls['password'].value)"
								novalidate>
								<ion-label>
									Already have an account ?
								</ion-label>
								<br>
								<ion-item>
									<ion-input placeholder="email"
										formControlName="email"></ion-input>
									<ion-label *ngIf="loginForm.controls['email'].invalid && (loginForm.controls['email'].dirty || loginForm.controls['email'].touched)"
										color="danger">
										Invalid format
									</ion-label>
								</ion-item>
								<ion-item>
									<ion-input type="password"
										placeholder="password"
										formControlName="password"></ion-input>
									<ion-label *ngIf="loginForm.controls['password'].invalid && (loginForm.controls['password'].dirty || loginForm.controls['password'].touched)"
										color="danger">
										Min length 8
									</ion-label>
								</ion-item>
								<ion-button [disabled]="!loginForm.valid"
									expand="block"
									type="submit">
									Login
								</ion-button>
							</form>
						</ion-card-content>
					</ion-card>
					<ion-card *ngIf="!isSmall">
						<ion-title>Register</ion-title>
						<ion-card-content>
							<form [formGroup]="registerForm"
								(ngSubmit)="register(registerForm.controls['email'].value, registerForm.controls['password'].value)">
								<ion-label>
									Want to create a new account ?
								</ion-label>
								<br>
								<ion-item>
									<ion-input placeholder="email"
										formControlName="email"></ion-input>
									<ion-label *ngIf="registerForm.controls['email'].invalid && (registerForm.controls['email'].dirty || registerForm.controls['email'].touched)"
										color="danger">
										Invalid format
									</ion-label>
								</ion-item>
								<ion-item>
									<ion-input type="password"
										placeholder="password"
										formControlName="password"></ion-input>
									<ion-label *ngIf="registerForm.controls['password'].invalid && (registerForm.controls['password'].dirty || registerForm.controls['password'].touched)"
										color="danger">
										Min length 8
									</ion-label>
								</ion-item>
								<ion-button [disabled]="!registerForm.valid"
									expand="block"
									type="submit">
									Register
								</ion-button>
							</form>
						</ion-card-content>
					</ion-card>
				</ion-col>
			</ion-row>
			<!-- Recover Email -->
			<ion-row *ngIf="!isSmall">
				<ion-col>
					<ion-card>
						<ion-title>
							Reset password with e-mail
						</ion-title>
						<ion-card-content>
							<form [formGroup]="passwordRecoveryForm"
								(ngSubmit)="passwordRecovery(passwordRecoveryForm.controls['email'].value)">
								<ion-item>
									<ion-input placeholder="email"
										formControlName="email"></ion-input>
									<ion-label *ngIf="passwordRecoveryForm.controls['email'].invalid && (passwordRecoveryForm.controls['email'].dirty || passwordRecoveryForm.controls['email'].touched)"
										color="danger">
										Invalid format
									</ion-label>
								</ion-item>
								<ion-button [disabled]="!passwordRecoveryForm.valid"
									expand="block"
									type="submit">
									Reset my password
								</ion-button>
							</form>
						</ion-card-content>
					</ion-card>
				</ion-col>
			</ion-row>
		</ion-grid>
	</ion-card-content>
</ion-card>
